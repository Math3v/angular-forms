<h1>
  Template Form
</h1>
<form #userForm="ngForm">

  <div class="form-group">
    <label for="name">Name:</label>
    <input type="text" class="form-control" name="name" id="name" [(ngModel)]="user.name" #name="ngModel" required>
    <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
      Name is required
    </div>
  </div>

  <fieldset>
    <legend>Address</legend>

    <div class="form-group">
      <label for="street">Street: </label>
      <input type="text" class="form-control" name="street" id="street" [(ngModel)]="user.address.street" #street="ngModel" required minlength="3" pattern="[A-Za-z]{3,}">
      <div *ngIf="street.errors && (street.dirty || street.touched)" class="alert alert-danger">
        <div [hidden]="!street.errors.required">
          Street is required
        </div>
        <div [hidden]="!street.errors.minlength">
          Street must be at least 3 characters long
        </div>
        <div [hidden]="!street.errors.pattern">
          Street must contain only letters
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="number">Number: </label>
      <input type="number" class="form-control" name="number" id="number" [(ngModel)]="user.address.number" #number="ngModel" required min="5" max="200">
      <div *ngIf="number.errors && (number.dirty || number.touched)" class="alert alert-danger">
        <div [hidden]="!number.errors.required">
          Number is required
        </div>
        <div [hidden]="!number.errors.min">
          Number must be at least 5
        </div>
        <div [hidden]="!number.errors.max">
          Number must be less than 200
        </div>
      </div>
    </div>

  </fieldset>

  <div class="form-group">
    <label for="password">Password: </label>
    <input type="text" class="form-control" name="password" id="password" [(ngModel)]="user.address.password" #password="ngModel" required minlength="6" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
    <div *ngIf="password.errors && (password.dirty || password.touched)" class="alert alert-danger">
      <div [hidden]="!password.errors.required">
        Password is required
      </div>
      <div [hidden]="!password.errors.pattern">
        At least one number, one uppercase and lowercase letter and at least 8 characters long
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="passwordConfirmation">Password confirmation: </label>
    <input type="text" class="form-control" name="passwordConfirmation" id="passwordConfirmation" [(ngModel)]="user.address.passwordConfirmation" #passwordConfirmation="ngModel" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
    <div *ngIf="passwordConfirmation.errors && (passwordConfirmation.dirty || passwordConfirmation.touched)" class="alert alert-danger">
      <div [hidden]="!passwordConfirmation.errors.required">
        Password confirmation is required
      </div>
      <div [hidden]="!passwordConfirmation.errors.pattern">
        At least one number, one uppercase and lowercase letter and at least 8 characters long
      </div>
    </div>
  </div>

</form>

<br>

{{ userForm.value | json }}
